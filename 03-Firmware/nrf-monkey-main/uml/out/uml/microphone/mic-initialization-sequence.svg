<?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="726px" preserveAspectRatio="none" style="width:1094px;height:726px;background:#FFFFFF;" version="1.1" viewBox="0 0 1094 726" width="1094px" zoomAndPan="magnify"><defs/><g><g><title>main.c</title><rect fill="#FFFFFF" height="252.0625" style="stroke:#181818;stroke-width:1;" width="10" x="203.5635" y="206.2578"/></g><g><title>main.c</title><rect fill="#FFFFFF" height="110.5313" style="stroke:#181818;stroke-width:1;" width="10" x="203.5635" y="539.7188"/></g><g><title>t5848.c</title><rect fill="#FFFFFF" height="237.0625" style="stroke:#181818;stroke-width:1;" width="10" x="489.8257" y="206.2578"/></g><rect fill="none" height="195.9297" style="stroke:#000000;stroke-width:1.5;" width="920.0122" x="168" y="255.3906"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Main" id="part1-lifeline"><g><title>main.c</title><rect fill="#000000" fill-opacity="0.00000" height="622.6563" width="8" x="204.5635" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="208" x2="208" y1="52.5938" y2="675.25"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Mic" id="part2-lifeline"><g><title>t5848.c</title><rect fill="#000000" fill-opacity="0.00000" height="622.6563" width="8" x="490.8257" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="494.1929" x2="494.1929" y1="52.5938" y2="675.25"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="HW" id="part3-lifeline"><g><title>T5848</title><rect fill="#000000" fill-opacity="0.00000" height="622.6563" width="8" x="789.5122" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="793.3877" x2="793.3877" y1="52.5938" y2="675.25"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Main" id="part1-head"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.127" x="178" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.127" x="185" y="41.292">main.c</text></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Main" id="part1-tail"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.127" x="178" y="674.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.127" x="185" y="694.2451">main.c</text></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Mic" id="part2-head"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.2656" x="461.1929" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2656" x="468.1929" y="41.292">t5848.c</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Mic" id="part2-tail"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.2656" x="461.1929" y="674.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2656" x="468.1929" y="694.2451">t5848.c</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="HW" id="part3-head"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.249" x="743.3877" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.1807" x="771.4219" y="24.9951">T5848</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7988" x="754.8379" y="41.292">Microphone</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="HW" id="part3-tail"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100.249" x="743.3877" y="674.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.1807" x="771.4219" y="694.2451">T5848</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7988" x="754.8379" y="710.542">Microphone</text></g><g><title>main.c</title><rect fill="#FFFFFF" height="252.0625" style="stroke:#181818;stroke-width:1;" width="10" x="203.5635" y="206.2578"/></g><g><title>main.c</title><rect fill="#FFFFFF" height="110.5313" style="stroke:#181818;stroke-width:1;" width="10" x="203.5635" y="539.7188"/></g><g><title>t5848.c</title><rect fill="#FFFFFF" height="237.0625" style="stroke:#181818;stroke-width:1;" width="10" x="489.8257" y="206.2578"/></g><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg1"><line style="stroke:#181818;stroke-width:1;" x1="208.5635" x2="250.5635" y1="98.8594" y2="98.8594"/><line style="stroke:#181818;stroke-width:1;" x1="250.5635" x2="250.5635" y1="98.8594" y2="111.8594"/><line style="stroke:#181818;stroke-width:1;" x1="209.5635" x2="250.5635" y1="111.8594" y2="111.8594"/><polygon fill="#181818" points="219.5635,107.8594,209.5635,111.8594,219.5635,115.8594,215.5635,111.8594" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.1958" x="215.5635" y="78.6606">init_mic_gpio()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.4043" x="215.5635" y="93.7935">(EN, OE, Wake)</text></g><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg2"><line style="stroke:#181818;stroke-width:1;" x1="208.5635" x2="250.5635" y1="156.125" y2="156.125"/><line style="stroke:#181818;stroke-width:1;" x1="250.5635" x2="250.5635" y1="156.125" y2="169.125"/><line style="stroke:#181818;stroke-width:1;" x1="209.5635" x2="250.5635" y1="169.125" y2="169.125"/><polygon fill="#181818" points="219.5635,165.125,209.5635,169.125,219.5635,173.125,215.5635,169.125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.4766" x="215.5635" y="135.9263">init_mic_config_gpio()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.6777" x="215.5635" y="151.0591">(CLK, THSEL)</text></g><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg3"><line style="stroke:#181818;stroke-width:1;" x1="208.5635" x2="255.5635" y1="193.2578" y2="193.2578"/><line style="stroke:#181818;stroke-width:1;" x1="255.5635" x2="255.5635" y1="193.2578" y2="206.2578"/><line style="stroke:#181818;stroke-width:1;" x1="214.5635" x2="255.5635" y1="206.2578" y2="206.2578"/><polygon fill="#181818" points="224.5635,202.2578,214.5635,206.2578,224.5635,210.2578,220.5635,206.2578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.8472" x="220.5635" y="188.1919">mic_config()</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg4"><polygon fill="#181818" points="477.8257,236.3906,487.8257,240.3906,477.8257,244.3906,481.8257,240.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="213.5635" x2="483.8257" y1="240.3906" y2="240.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7896" x="220.5635" y="235.3247">t5848_write_config()</text></g><path d="M168,255.3906 L364.5947,255.3906 L364.5947,262.5234 L354.5947,272.5234 L168,272.5234 L168,255.3906" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="195.9297" style="stroke:#000000;stroke-width:1.5;" width="920.0122" x="168" y="255.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="151.5947" x="183" y="268.4575">1-Wire configuration</text><g class="message" data-entity-1="part2" data-entity-2="part2" id="msg5"><line style="stroke:#181818;stroke-width:1;" x1="499.8257" x2="541.8257" y1="293.6563" y2="293.6563"/><line style="stroke:#181818;stroke-width:1;" x1="541.8257" x2="541.8257" y1="293.6563" y2="306.6563"/><line style="stroke:#181818;stroke-width:1;" x1="500.8257" x2="541.8257" y1="306.6563" y2="306.6563"/><polygon fill="#181818" points="510.8257,302.6563,500.8257,306.6563,510.8257,310.6563,506.8257,306.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.8628" x="506.8257" y="288.5903">generate_aad_a_pair()</text></g><g class="message" data-entity-1="part2" data-entity-2="part2" id="msg6"><line style="stroke:#181818;stroke-width:1;" x1="499.8257" x2="541.8257" y1="335.7891" y2="335.7891"/><line style="stroke:#181818;stroke-width:1;" x1="541.8257" x2="541.8257" y1="335.7891" y2="348.7891"/><line style="stroke:#181818;stroke-width:1;" x1="500.8257" x2="541.8257" y1="348.7891" y2="348.7891"/><polygon fill="#181818" points="510.8257,344.7891,500.8257,348.7891,510.8257,352.7891,506.8257,348.7891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.1484" x="506.8257" y="330.7231">generate_aad_d_pair()</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg7"><polygon fill="#181818" points="781.5122,399.6211,791.5122,403.6211,781.5122,407.6211,785.5122,403.6211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="499.8257" x2="787.5122" y1="403.6211" y2="403.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.6865" x="506.8257" y="383.4224">Send bitstream via 1-Wire (THSEL + CLK)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="506.8257" y="398.5552">&#160;</text></g><path d="M798,361.7891 L798,416.7891 L1072,416.7891 L1072,371.7891 L1062,361.7891 L798,361.7891" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M1062,361.7891 L1062,371.7891 L1072,371.7891 L1062,361.7891" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.4404" x="804" y="378.856">This interaction is detailed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.2842" x="804" y="393.9888">in the sequence diagram</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.5" x="804" y="409.1216">mic-data-transmission-sequence.puml.</text><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg9"><polygon fill="#181818" points="224.5635,439.3203,214.5635,443.3203,224.5635,447.3203,220.5635,443.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="218.5635" x2="493.8257" y1="443.3203" y2="443.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.6665" x="230.5635" y="438.2544">return 0</text></g><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg10"><line style="stroke:#181818;stroke-width:1;" x1="793.5122" x2="835.5122" y1="479.4531" y2="479.4531"/><line style="stroke:#181818;stroke-width:1;" x1="835.5122" x2="835.5122" y1="479.4531" y2="492.4531"/><line style="stroke:#181818;stroke-width:1;" x1="794.5122" x2="835.5122" y1="492.4531" y2="492.4531"/><polygon fill="#181818" points="804.5122,488.4531,794.5122,492.4531,804.5122,496.4531,800.5122,492.4531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9829" x="800.5122" y="474.3872">Process internal config</text></g><g class="message" data-entity-1="part3" data-entity-2="part1" id="msg11"><polygon fill="#181818" points="224.5635,535.7188,214.5635,539.7188,224.5635,543.7188,220.5635,539.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="218.5635" x2="792.5122" y1="539.7188" y2="539.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.4614" x="230.5635" y="534.6528">mic_wake_handler(ISR)</text></g><path d="M5,505.4531 L5,560.4531 L199,560.4531 L199,515.4531 L189,505.4531 L5,505.4531" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M189,505.4531 L189,515.4531 L199,515.4531 L189,505.4531" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.1831" x="11" y="522.52">Wait 10ms for microphone</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7705" x="11" y="537.6528">configuration confirmation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.7358" x="11" y="552.7856">(12&#956;s pulse)</text><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg13"><line style="stroke:#181818;stroke-width:1;" x1="213.5635" x2="255.5635" y1="586.9844" y2="586.9844"/><line style="stroke:#181818;stroke-width:1;" x1="255.5635" x2="255.5635" y1="586.9844" y2="599.9844"/><line style="stroke:#181818;stroke-width:1;" x1="214.5635" x2="255.5635" y1="599.9844" y2="599.9844"/><polygon fill="#181818" points="224.5635,595.9844,214.5635,599.9844,224.5635,603.9844,220.5635,599.9844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.2427" x="220.5635" y="581.9185">k_sem_give(mic_config_done_sem)</text></g><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg14"><line style="stroke:#181818;stroke-width:1;" x1="213.5635" x2="255.5635" y1="649.25" y2="649.25"/><line style="stroke:#181818;stroke-width:1;" x1="255.5635" x2="255.5635" y1="649.25" y2="662.25"/><line style="stroke:#181818;stroke-width:1;" x1="208.5635" x2="255.5635" y1="662.25" y2="662.25"/><polygon fill="#181818" points="218.5635,658.25,208.5635,662.25,218.5635,666.25,214.5635,662.25" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.2622" x="220.5635" y="629.0513">gpio_hal_disconnect_mic_config_gpio()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.6777" x="220.5635" y="644.1841">(CLK, THSEL)</text></g><?plantuml-src XLBBYjj04BphAvgzH2QsMOS45Xzo2GQ7x6v2RF3583epRQcnrAFCZBm_bs_8DwL7jjSlbkWaJLMrfgehR5bQzDZ0anDdAkyQWkWxoZ8zZcouHObmro3BsDm11dZIrqimVdhu-714sLo2omIk9G7UjPKJwddpLPQbIJ3wt4-4AR1mB1esHTcoomThoMVFG_W-6y8AjpHuaswSRBWygRuyVXl2ShwOFTveJlHyaA69lCD8UqUWp-b4NQI3LpaRLVS-YnVFaKvJ4gtqhcjXCbgn9zWZdSV8RZysgL-7b2Ia61M8ji2YHVQ7AM_Jx3dj7JoxI5CurynNAbcGMFZ5CKHFkj0Tu_5AUPy6l0UDHXFgbQ93m7DPnIaiAmwQPzG_cdHhq4zB4RacknQD85O4WNvt98R0CfRQcBLecYEB4KVHeuI6Gr3jwCWRjrrJZo-SxPVWANPUuBw7BDs4hZQoy-EqdKmT7dt-yCvGE5nOi3uaVg2SRVf5QrDKABOcdtzT_1naMU-wfesQNY57cDmt0JRE9_wXdckvsE1-kc_w3stNvCFVFm7QhWvqNQ7hjcsBG4rHyexoivvQ_KS2RigP2gpNhGlBGRb2vl_zlihf7m00?></g></svg>