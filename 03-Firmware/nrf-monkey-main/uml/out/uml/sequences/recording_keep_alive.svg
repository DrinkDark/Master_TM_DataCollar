<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="904px" preserveAspectRatio="none" style="width:600px;height:904px;background:#FFFFFF;" version="1.1" viewBox="0 0 600 904" width="600px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="439.0752" x="19" y="356.7891"/><rect fill="none" height="282" style="stroke:#000000;stroke-width:1.5;" width="570.7129" x="13" y="553.5859"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Mic" id="part1-lifeline"><g><title>Microphone</title><rect fill="#000000" fill-opacity="0.00000" height="799.9922" width="8" x="72.8994" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="76" x2="76" y1="52.5938" y2="852.5859"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Logic" id="part2-lifeline"><g><title>main.c</title><rect fill="#000000" fill-opacity="0.00000" height="799.9922" width="8" x="238.4648" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="242.2803" x2="242.2803" y1="52.5938" y2="852.5859"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="Rec" id="part3-lifeline"><g><title>recorder.c</title><rect fill="#000000" fill-opacity="0.00000" height="799.9922" width="8" x="384.8623" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="388.6494" x2="388.6494" y1="52.5938" y2="852.5859"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="Timer" id="part4-lifeline"><g><title>Tail Timer</title><rect fill="#000000" fill-opacity="0.00000" height="799.9922" width="8" x="527.8086" y="52.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="530.9043" x2="530.9043" y1="52.5938" y2="852.5859"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Mic" id="part1-head"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7988" x="29" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7988" x="36" y="24.9951">Microphone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.8584" x="56.4702" y="41.292">(AAD)</text></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Mic" id="part1-tail"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7988" x="29" y="851.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7988" x="36" y="871.5811">Microphone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.8584" x="56.4702" y="887.8779">(AAD)</text></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Logic" id="part2-head"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.3691" x="165.2803" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.127" x="218.9014" y="24.9951">main.c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.3691" x="172.2803" y="41.292">(mic_wake_handler)</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Logic" id="part2-tail"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.3691" x="165.2803" y="851.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.127" x="218.9014" y="871.5811">main.c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.3691" x="172.2803" y="887.8779">(mic_wake_handler)</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="Rec" id="part3-head"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.4258" x="329.6494" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.791" x="352.9668" y="24.9951">recorder.c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.4258" x="336.6494" y="41.292">(Audio Thread)</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="Rec" id="part3-tail"><rect fill="#E3E3E3" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.4258" x="329.6494" y="851.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.791" x="352.9668" y="871.5811">recorder.c</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.4258" x="336.6494" y="887.8779">(Audio Thread)</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="Timer" id="part4-head"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.8086" x="489.9043" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.8086" x="496.9043" y="41.292">Tail Timer</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="Timer" id="part4-tail"><rect fill="#E3E3E3" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.8086" x="489.9043" y="851.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.8086" x="496.9043" y="871.5811">Tail Timer</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="593.7129" x="0" y="83.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="83.1602" y2="83.1602"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="86.1602" y2="86.1602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="98.7095" x="247.5017" y="72.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80.1836" x="253.5017" y="88.6606">Start Logic</text><path d="M23,110.7266 L23,150.7266 L129,150.7266 L129,120.7266 L119,110.7266 L23,110.7266" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M119,110.7266 L119,120.7266 L129,120.7266 L119,110.7266" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85.8838" x="29" y="127.7935">Sleep mode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.0156" x="29" y="142.9263">(CLK = 0Hz)</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="230.4648,173.125,240.4648,177.125,230.4648,181.125,234.4648,177.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="76.8994" x2="236.4648" y1="177.125" y2="177.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1772" x="83.8994" y="172.0591">WAKE Pulse (AAD A)</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#181818" points="376.8623,202.2578,386.8623,206.2578,376.8623,210.2578,380.8623,206.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="242.4648" x2="382.8623" y1="206.2578" y2="206.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.9033" x="249.4648" y="201.1919">Signal Wakeup</text></g><path d="M5,219.2578 L5,259.2578 L149,259.2578 L149,229.2578 L139,219.2578 L5,219.2578" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M139,219.2578 L139,229.2578 L149,229.2578 L139,219.2578" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="123.9634" x="11" y="236.3247">Low Power Mode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.0859" x="11" y="251.4575">(CLK = 768kHz)</text><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg3"><line style="stroke:#181818;stroke-width:1;" x1="388.8623" x2="430.8623" y1="285.6563" y2="285.6563"/><line style="stroke:#181818;stroke-width:1;" x1="430.8623" x2="430.8623" y1="285.6563" y2="298.6563"/><line style="stroke:#181818;stroke-width:1;" x1="389.8623" x2="430.8623" y1="298.6563" y2="298.6563"/><polygon fill="#181818" points="399.8623,294.6563,389.8623,298.6563,399.8623,302.6563,395.8623,298.6563" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.9463" x="395.8623" y="280.5903">Start Audio Capture</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="593.7129" x="0" y="327.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="327.2227" y2="327.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="330.2227" y2="330.2227"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="164.1982" x="214.7573" y="316.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145.6724" x="220.7573" y="332.7231">Continuous Capture</text><path d="M19,356.7891 L95.624,356.7891 L95.624,363.9219 L85.624,373.9219 L19,373.9219 L19,356.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="439.0752" x="19" y="356.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="34" y="369.856">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139.7505" x="110.624" y="368.9995">[While sound persists]</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg4"><polygon fill="#181818" points="230.4648,391.0547,240.4648,395.0547,230.4648,399.0547,234.4648,395.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="76.8994" x2="236.4648" y1="395.0547" y2="395.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.5654" x="83.8994" y="389.9888">WAKE Pulse (AAD D1)</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg5"><polygon fill="#181818" points="376.8623,420.1875,386.8623,424.1875,376.8623,428.1875,380.8623,424.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="242.4648" x2="382.8623" y1="424.1875" y2="424.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.8535" x="249.4648" y="419.1216">Reset Tail Timer</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="593.7129" x="0" y="459.7539"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="459.7539" y2="459.7539"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="593.7129" y1="462.7539" y2="462.7539"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="185.1328" x="204.29" y="449.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166.6069" x="210.29" y="465.2544">Stop Logic (Tail Timer)</text><path d="M34,487.3203 L34,512.3203 L573,512.3203 L573,497.3203 L563,487.3203 L34,487.3203" fill="#D3D3D3" style="stroke:#181818;stroke-width:0.5;"/><path d="M563,487.3203 L563,497.3203 L573,497.3203 L563,487.3203" fill="#D3D3D3" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.6895" x="229.0117" y="504.3872">SILENCE DETECTED</text><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg6"><polygon fill="#181818" points="519.8086,534.5859,529.8086,538.5859,519.8086,542.5859,523.8086,538.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="388.8623" x2="525.8086" y1="538.5859" y2="538.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.4487" x="395.8623" y="533.52">Start Timer</text></g><path d="M13,553.5859 L77.4429,553.5859 L77.4429,560.7188 L67.4429,570.7188 L13,570.7188 L13,553.5859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="282" style="stroke:#000000;stroke-width:1.5;" width="570.7129" x="13" y="553.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="28" y="566.6528">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184.583" x="92.4429" y="565.7964">[Pulse received during Timer]</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg7"><polygon fill="#181818" points="230.4648,587.8516,240.4648,591.8516,230.4648,595.8516,234.4648,591.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="76.8994" x2="236.4648" y1="591.8516" y2="591.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.0796" x="83.8994" y="586.7856">WAKE Pulse</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg8"><polygon fill="#181818" points="376.8623,616.9844,386.8623,620.9844,376.8623,624.9844,380.8623,620.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="242.4648" x2="382.8623" y1="620.9844" y2="620.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.5903" x="249.4648" y="615.9185">Reset Timer</text></g><path d="M314,633.9844 L314,658.9844 L463,658.9844 L463,643.9844 L453,633.9844 L314,633.9844" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M453,633.9844 L453,643.9844 L463,643.9844 L453,633.9844" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.4194" x="320" y="651.0513">Continue Recording</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="13" x2="583.7129" y1="665.1172" y2="665.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95.1919" x="18" y="675.3276">[Timer Expires]</text><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg9"><polygon fill="#181818" points="399.8623,696.0547,389.8623,700.0547,399.8623,704.0547,395.8623,700.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="393.8623" x2="530.8086" y1="700.0547" y2="700.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.5044" x="405.8623" y="694.9888">Timeout</text></g><g class="message" data-entity-1="part3" data-entity-2="part3" id="msg10"><line style="stroke:#181818;stroke-width:1;" x1="388.8623" x2="430.8623" y1="729.1875" y2="729.1875"/><line style="stroke:#181818;stroke-width:1;" x1="430.8623" x2="430.8623" y1="729.1875" y2="742.1875"/><line style="stroke:#181818;stroke-width:1;" x1="389.8623" x2="430.8623" y1="742.1875" y2="742.1875"/><polygon fill="#181818" points="399.8623,738.1875,389.8623,742.1875,399.8623,746.1875,395.8623,742.1875" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.7437" x="395.8623" y="724.1216">Stop Audio Capture</text></g><path d="M298,755.1875 L298,780.1875 L477,780.1875 L477,765.1875 L467,755.1875 L298,755.1875" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M467,755.1875 L467,765.1875 L477,765.1875 L467,755.1875" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.9263" x="304" y="772.2544">Return to Idle Recording</text><path d="M23,790.3203 L23,830.3203 L129,830.3203 L129,800.3203 L119,790.3203 L23,790.3203" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M119,790.3203 L119,800.3203 L129,800.3203 L119,790.3203" fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85.8838" x="29" y="807.3872">Sleep mode</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.0156" x="29" y="822.52">(CLK = 0Hz)</text><!--SRC=[XLDTRzD047o_Nx4gBtK425u0LRYIvLXGrQ0giPGNfEhmhU9Jx5lhFXhWrxFdSneIgjPFzixipixSsUsq6QML0mnagEqi3GZU1XHSzRhLepGUBhxfrjBOaS4Vvh8ebja5I0TSFQKDKfktBLC6tTxlvGxlEsbKZpRnQzgUTrXioIgqKrSHb2PeEejIfOuLdl4RgNjez81smgSt8V8SrfvfIG7oN1Zo2FI0DYu9Lx1Oh7l4aLqgN2nOgwnl8OTtN_za8ZBUNC-zLx0fRYku2xr3Y5QXo4I2cCFxC6EjjqRsi663ONn2ggOztD4-LaxbFdxuj8kASSnnshHvybxAqGUBawEIZDScK727SZJM4usmwNIFu2WO1IDQfvrt0lXvmShoVJRHploiqA67OxG2ZPf3PR54lZp2sNy1lqu0lAhrjlDVhFmzoNp-URs-gQllPGNBggdAfbh6qH1x3ncanaCAytaAsVjvRxuWg1zGWGfMc-tCUDRhCnOVcu_h9tmE6-CdNqXM4XZbqthLhr5RJ16dokFW-4d1Jz3PiN9sfwVwbF0A6JBW2MxuH_b7_fJyyYtcOFy2]--></g></svg>