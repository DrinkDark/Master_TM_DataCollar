#sdcard - SDMMC
# CONFIG_DISK_DRIVER_SDMMC=y
CONFIG_DISK_ACCESS=y
CONFIG_FILE_SYSTEM=y
CONFIG_FAT_FILESYSTEM_ELM=y
CONFIG_SDHC=y
CONFIG_FS_FATFS_HAS_RTC=y

# GPIO's related
CONFIG_GPIO=y

# Lib c
CONFIG_NEWLIB_LIBC=n
CONFIG_MINIMAL_LIBC=y
CONFIG_POSIX_API=y
CONFIG_POSIX_CLOCK=y

CONFIG_CBPRINTF_FP_SUPPORT=y

# Stack and Heap - Not used for this project
# CONFIG_MAIN_STACK_SIZE=16384
# CONFIG_MAIN_STACK_SIZE=24576
#CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=4096
# CONFIG_NEWLIB_LIBC_MIN_REQUIRED_HEAP_SIZE=2048

# I2S interface
CONFIG_I2S=y
CONFIG_I2S_SAMPLE_FREQUENCY=16000
CONFIG_I2S_MIC_INPUT_GAIN=3
CONFIG_I2S_MIC_INPUT_DIVIDER=2
CONFIG_STORAGE_BYTES_PER_SAMPLE=2
CONFIG_I2S_RECORD_AUTO_START=y

# Microphone config
CONFIG_MIC_AAD_A_LPF=0x02
CONFIG_MIC_AAD_A_TH=0x0A
CONFIG_MIC_AAD_D_ALGO_SEL=0x03
CONFIG_MIC_AAD_D_FLOOR=0xA0
CONFIG_MIC_AAD_D_REL_PULSE_MIN=0xC8
CONFIG_MIC_AAD_D_ABS_PULSE_MIN=0x7D0
CONFIG_MIC_AAD_D_REL_TH=0x8F
CONFIG_MIC_AAD_D_ABS_TH=0x1E0
CONFIG_MIC_RECORDING_TAIL_MSEC=10000



# SD Card
# CONFIG_STORAGE_TIME_DIFF_THRESHOLD=600
# CONFIG_STORAGE_FILE_NAME="test"

# BLE Configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_CENTRAL=y
CONFIG_BT_COMPANY_ID=0x025A
CONFIG_BT_DEVICE_NAME="Speak No Evil 53"
CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=18
CONFIG_BT_DEVICE_APPEARANCE=128
# CONFIG_BT_USE_USER_DESCRIPTION=y
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1

CONFIG_BT_SMP=n
CONFIG_BT_GATT_CLIENT=y
CONFIG_BT_GATT_DM=y
CONFIG_BT_GATT_DM_DATA_PRINT=n

CONFIG_BT_SCAN=y
CONFIG_BT_SCAN_FILTER_ENABLE=y
CONFIG_BT_SCAN_MANUFACTURER_DATA_CNT=1

# BLE proximity monitoring
CONFIG_BT_PROXIMITY_MONITORING=y
CONFIG_BT_SCAN_WINDOW_MS=1400
CONFIG_BT_SCAN_INTERVAL_MS=60000
CONFIG_BT_ADV_INTERVAL_MS=300
CONFIG_BT_PROXIMITY_ENABLE_AUDIO_SAVING=n
CONFIG_BT_PROXIMITY_ENABLE_AUDIO_RSSI_MIN=-50

# Enable bonding
CONFIG_BT_SETTINGS=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y
# CONFIG_SETTINGS_NVS_SECTOR_COUNT=8
# CONFIG_PARTITION_MANAGER_ENABLED=y

# BT DEBUG
# CONFIG_BT_DEBUG_LOG=y

# Enable CTS client
# CONFIG_BT_CTS_CLIENT=n

# SNES Private Service
CONFIG_BT_SNES_SRV=y
CONFIG_BT_SNES_THREAD_STACK_SIZE=4096
# CONFIG_BT_SNES_BUFFER_SIZE=244
# CONFIG_NVS=y

# DIS - Device Information Service (Adopted SIG)

CONFIG_BT_DIS=y
CONFIG_BT_DIS_PNP=n
CONFIG_BT_DIS_MODEL="Speak No Evil"
CONFIG_BT_DIS_MANUF="HEI, Sion"
CONFIG_BT_DIS_SERIAL_NUMBER=n
CONFIG_BT_DIS_FW_REV=y
CONFIG_BT_DIS_HW_REV=y
CONFIG_BT_DIS_SW_REV=n
# CONFIG_BT_DIS_SERIAL_NUMBER_STR="Zephyr Serial"
# CONFIG_BT_DIS_FW_REV_STR="Zephyr Firmware"
# CONFIG_BT_DIS_HW_REV_STR="Zephyr Hardware"
# CONFIG_BT_DIS_SW_REV_STR="Zephyr Software"

# Below is setup to let DIS information be read from settings
CONFIG_SETTINGS_RUNTIME=y
CONFIG_SETTINGS_NONE=y

CONFIG_BT_DIS_SETTINGS=y
# CONFIG_BT_DIS_STR_MAX=21

# Power mamangement
CONFIG_PM=y
CONFIG_PM_DEVICE=y

# Monkey Collar
# CONFIG_COLLAR_BURN_DELAY_IN_SEC=2

# Using Monkey PCB Hardware
CONFIG_COMPILE_FOR_MONKEY_PCB=y

# List all files and folder on SD Card
# CONFIG_STORAGE_LIST_FILES_ON_CARD=y

# NFC Pins as GPIOs
CONFIG_NFCT_PINS_AS_GPIOS=y
# CONFIG_NFC_NDEF=n

# Debounce default delay
# CONFIG_GENERIC_GPIO_DEBOUNCE_MS=2000

# Debounce specific delay for Low Batt detection
CONFIG_LOW_BATT_GPIO_DEBOUNCE_MS=11000

# Delay to be sure that all threads have detected the power on hardware, in [ms]
CONFIG_DELAY_ON_HARDWARE_POWERED_ON=1000

# Dynamic PinCtrl configuration
# CONFIG_PINCTRL_DYNAMIC=y

# The device identifier (used in advertised name) is readen from FLASH memory
CONFIG_DEVICE_IDENTIFIER_FROM_NVS=y


# ********************************************** #
# DEBUG settings - Change CONFIG_below to y to activate DEBUG
# ********************************************** #
CONFIG_DEBUG=n
CONFIG_DEBUG_THREAD_INFO=n
CONFIG_DEBUG_OPTIMIZATIONS=n
# CONFIG_DEBUG_INFO=y
# CONFIG_DEBUG_COREDUMP=n
# CONFIG_DEBUG_COREDUMP_MEMORY_DUMP_MIN=y
# CONFIG_DEBUG_COREDUMP_MEMORY_DUMP_LINKER_RAM=n


# ********************************************** #
# Zephyr/nrf log configuration                   #
# 0 -> off, 1 -> err, 2 ->wrn, 3 -> inf, 4 ->dbg #
# ********************************************** #
# DEBUG LOG LEVEL
CONFIG_BLE_LOG_LEVEL=3
CONFIG_BLE_PROXIMITY_LOG_LEVEL=3
CONFIG_BT_SNES_LOG_LEVEL=2
CONFIG_BT_CTS_LOG_LEVEL=2
CONFIG_SD_CARD_LOG_LEVEL=3
CONFIG_RECORDER_LOG_LEVEL=3
CONFIG_GPIO_HAL_LOG_LEVEL=2
CONFIG_MAIN_LOG_LEVEL=3
CONFIG_FLASH_LOG_LEVEL=3
CONFIG_T5848_LOG_LEVEL=3

# Enable/Disable LOG trace
CONFIG_LOG=n
CONFIG_CONSOLE=n
CONFIG_PRINTK=n

CONFIG_LOG_BACKEND_SHOW_COLOR=y
CONFIG_LOG_INFO_COLOR_GREEN=y
CONFIG_LOG_MODE_DEFERRED=y
# CONFIG_LOG_MODE_OVERFLOW=y
CONFIG_LOG_BUFFER_SIZE=8192


# RTT logging
# To enable RTT Logging, set CONFIG_RTT_CONSOLE to y and to n to disable it
CONFIG_RTT_CONSOLE=n
CONFIG_USE_SEGGER_RTT=n
CONFIG_LOG_BACKEND_RTT=n


CONFIG_SEGGER_RTT_BUFFER_SIZE_DOWN=64
CONFIG_SEGGER_RTT_MAX_NUM_DOWN_BUFFERS=2
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=8192
CONFIG_SEGGER_RTT_MAX_NUM_UP_BUFFERS=2

# UART Logging definitions
# To enable UART Logging, set both CONFIG_SERIAL & CONFIG_UART_CONSOLE to y
CONFIG_UART_CONSOLE=n
CONFIG_LOG_BACKEND_UART=n

# Bootloader settings
CONFIG_BOOTLOADER_MCUBOOT=n

CONFIG_SPI_NOR=n
CONFIG_SPI_NOR_SFDP_DEVICETREE=n
CONFIG_SPI_NOR_SFDP_RUNTIME=n

CONFIG_FLASH=y
CONFIG_SOC_FLASH_NRF_RRAM=y